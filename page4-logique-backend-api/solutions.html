<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Module 4 – Solutions</title>
<link rel="stylesheet" href="../css/style.css">
</head>
<body>
<header>
  <h1>Module 4 – Solutions</h1>
</header>

<nav>
  <a href="index.html">Accueil</a> |
  <a href="theorie.html">Théorie</a> |
  <a href="pratique.html">Pratique</a> |
  <a href="exercices.html">Exercices</a> |
  <a href="ressources.html">Ressources</a> |
  <a href="../index.html" style="font-weight:bold;">Retour au Dashboard</a>
</nav>

<main>
  <section>
    <h2>Solution Exercice 1 : MySQL direct</h2>
    <pre><code>// Table users
CREATE TABLE users (
  id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(50) NOT NULL,
  email VARCHAR(100) NOT NULL UNIQUE,
  age INT
);

// Route GET
app.get('/users', async (req,res)=>{
  const [rows] = await db.execute('SELECT * FROM users');
  res.json(rows);
});</code></pre>
  </section>

  <section>
    <h2>Solution Exercice 2 : Sequelize</h2>
    <pre><code>const User = sequelize.define('User',{
  name:{type: DataTypes.STRING, allowNull:false},
  email:{type: DataTypes.STRING, allowNull:false, unique:true},
  age: DataTypes.INTEGER
});

app.post('/users', async (req,res)=>{
  try {
    const user = await User.create(req.body);
    res.status(201).json(user);
  } catch(err){
    res.status(400).json({error: err.message});
  }
});</code></pre>
  </section>

  <section>
    <h2>Solution Exercice 3 : MongoDB / Mongoose</h2>
    <pre><code>const userSchema = new mongoose.Schema({
  name:{type:String, required:true},
  email:{type:String, required:true, unique:true},
  age:Number
});
const User = mongoose.model('User', userSchema);

app.get('/users', async (req,res)=>{
  const users = await User.find();
  res.json(users);
});</code></pre>
  </section>

  <section>
    <h2>Solution Exercice 4 : Validation & erreurs</h2>
    <p>Retourner 400 si un champ obligatoire manque, 404 si la ressource est introuvable, 500 si erreur serveur.</p>
  </section>

  <section>
    <h2>Solution Exercice 5 : Test complet</h2>
    <p>Tester GET, POST, PUT, DELETE sur MySQL direct, Sequelize et MongoDB pour vérifier la cohérence et la validation.</p>
  </section>
</main>
</body>
</html>
